/*
 * tasks.c
 *
 *  Created on: 1 de jul. de 2016
 *      Author: pablo
 */


	#include "FreeRTOS.h"
	#include "task.h"
	#include "board.h"
	#include "chip.h"
	#include "semphr.h"
	#include "queue.h"
	#include <cr_section_macros.h>

	extern xSemaphoreHandle xBinSem_rx;

/*-----------------------------------------------------------*/
void vTask_UART0Tx( void *pvParameters )
{
	uint8_t data=0;
	/* Send initial messages */
	//Board_UARTPutSTR(LPC_UART0,inst1);

	 xSemaphoreTake( xBinSem_rx, 0 );

	for( ;; )
	{
		 xSemaphoreTake( xBinSem_rx, portMAX_DELAY );
		 RingBuffer_Pop(&rxring, &data);
		 Board_UARTPutChar(LPC_UART0,data);
		}

}
